<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Transplant</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
  <script type="text/javascript">
    var RULES = {{ rules|tojson|safe }};
  </script>
</head>
  <body>
    <div class="container" style="margin-top: 1em">
      <div class="jumbotron">
        <h1>Transplant</h1>
        <form id="transplant-form" role="form" action="{{ url_for('transplant') }}" method="POST">
          <div class="form-group">
            <label for="source">Source</label>
            <select id="source" name="src" required="required" class="form-control">
              <option></option>
            </select>
            <p class="help-block">Source repository to transplant revision set from.</p>
          </div>
          <div class="form-group">
            <label for="destination">Destination</label>
            <select id="destination" name="dst" required="required" class="form-control">
              <option></option>
            </select>
            <p class="help-block">Destination repository to transplant revision set to.</p>
          </div>
          <div id="commit-form-group" class="form-group">
            <label for="commit">Commit ID</label>
            <input id="commit" name="commit" placeholder="Commit ID" required="required" type="text" class="form-control">
            <span id="commit-info-progress" class="glyphicon glyphicon-refresh form-control-feedback hidden"></span>
            <span id="commit-info-success" class="glyphicon glyphicon-ok  form-control-feedback hidden"></span>
            <span id="commit-info-error" class="glyphicon glyphicon-remove form-control-feedback hidden"></span>
            <p class="help-block">Commit ID to transplant from source to destination repository.</p>
          </div>
          <div class="form-group">
            <label for="message">Commit message (optional)</label>
            <textarea id="message" name="message" rows="3" class="form-control"></textarea>
          </div>
          <button id="transplant" data-loading-text="Transplanting..." type="submit" class="btn btn-primary btn-lg">Transplant</button>
        </form>

        <p id="msgSuccess" class="text-success">Success</p>
        <p id="msgError" class="text-danger">Error</p>
      </div>
    </div>
    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='main.js') }}"></script>
  </body>
</html>
